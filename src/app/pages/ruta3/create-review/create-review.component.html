<h2 class="titulo-pagina">Agregar reseña</h2>

<mat-form-field appearance="fill" class="select-libro">
  <mat-label>Seleccioná un libro</mat-label>
  <mat-select (selectionChange)="onBookSelected($event.value)">
    <mat-option *ngFor="let book of books" [value]="book.id">
      {{ book.title }}
    </mat-option>
    <mat-option [value]="0">-- Libro que no existe --</mat-option>
  </mat-select>
</mat-form-field>

<div *ngIf="selectedBook && selectedBook.id !== 0; else libroNoEncontrado">
  <p class="info-libro"><strong>Libro:</strong> {{ selectedBook.title }}</p>

  <app-review-form
    [titulo]="'Crear reseña para: ' + selectedBook.title"
    (postForm)="guardar($event)">
  </app-review-form>
</div>

<ng-template #libroNoEncontrado>
  <p *ngIf="selectedBook && selectedBook.id === 0" class="mensaje-error">
    <em>Libro no encontrado en el sistema.</em>
  </p>
</ng-template>
